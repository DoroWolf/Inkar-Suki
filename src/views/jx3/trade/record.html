<template>
  <div style="text-align: center;">
    <h2>交易行 · {{ server }}</h2>
    <div id="chart" style="width: 800px;height:500px;"></div>
  </div>
</template>
<script src="https://cdn.staticfile.org/echarts/5.4.2/echarts.min.js"></script>
<script>
  const { defineComponent, reactive, toRefs, onMounted } = Vue
  const component = defineComponent({
    components: {},
    setup () {
      onMounted(() => {
        const Chart = echarts.init(document.getElementById('chart'))
        option = {
          tooltip: {
            trigger: 'axis'
          },
          xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
          },
          yAxis: {
            type: 'value',
            axisLabel: {
              formatter: '{value} 金'
            }
          },
          series: [
            {
              name: 'Highest',
              type: 'line',
              data: [10, 11, 13, 11, 12, 12, 9],
              markPoint: {
                data: [
                  { type: 'max', name: 'Max' },
                  { type: 'min', name: 'Min' }
                ]
              },
              markLine: {
                data: [{ type: 'average', name: 'Avg' }]
              }
            },
            {
              name: 'Lowest',
              type: 'line',
              data: [1, -2, 2, 5, 3, 2, 0],
              markPoint: {
                data: [{ name: '周最低', value: -2, xAxis: 1, yAxis: -1.5 }]
              },
              markLine: {
                data: [
                  { type: 'average', name: 'Avg' },
                  [
                    {
                      symbol: 'none',
                      x: '90%',
                      yAxis: 'max'
                    },
                    {
                      symbol: 'circle',
                      label: {
                        position: 'start',
                        formatter: 'Max'
                      },
                      type: 'max',
                      name: '最高点'
                    }
                  ]
                ]
              }
            }
          ]
        }
        Chart.setOption(option)
      })
      return {
        items: [], // {id:'',price:0}
        server: '', // 唯我独尊
      }
    },
  })
</script>